<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="../css/stylelogin.css" rel="stylesheet">

    <title>login</title>
</head>
<body>

<section class="login">
    <div class="login-container">
        <h1>Login</h1>
        <form action="../script-php/login.php" method="post">
            <input name="action" type="hidden" value="login">

            <label for="username">username:</label>
            <input id="username" name="username" required type="text" autocomplete="username">
            <br>
            <label for="password">Password</label>
            <input id="password" name="password" required type="password" autocomplete="current-password">
            <br>
            <div class="remember-wrapper">
                <label class="remember-label">
                    <input type="checkbox" name="remember">
                    Se souvenir de moi
                </label>
            </div>
            <div class="login-button-wrapper">
                <button type="submit">Login</button>
            </div>
            <p>Pas encore de compte ? <a href="register.html">Créer un compte</a></p>
        </form>
    </div>
</section>

</body>
<script>
    const params = new URLSearchParams(window.location.search);
    if (params.get('error') === '1') {
        const div = document.createElement('div');
        div.style.color = 'red';
        div.style.marginTop = '10px';
        div.textContent = "❌ Nom d'utilisateur ou mot de passe incorrect.";
        document.querySelector('form').after(div);
    }
    if (params.get('error') === '2') {
        const div = document.createElement('div');
        div.style.color = 'red';
        div.style.marginTop = '10px';
        div.textContent = "❌ Veuillez remplir tous les champs.";
        document.querySelector('form').after(div);
    }
</script>
</html>